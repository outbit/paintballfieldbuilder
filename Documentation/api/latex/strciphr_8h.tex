\hypertarget{strciphr_8h}{
\section{C:/Business/C++/Commercial/Paintball Field Builder/Paintball Field Builder v2.0.0/Software Development/Paintball Field Builder/WSKey/cryptopp/inc/strciphr.h File Reference}
\label{strciphr_8h}\index{C:/Business/C++/Commercial/Paintball Field Builder/Paintball Field Builder v2.0.0/Software Development/Paintball Field Builder/WSKey/cryptopp/inc/strciphr.h@{C:/Business/C++/Commercial/Paintball Field Builder/Paintball Field Builder v2.0.0/Software Development/Paintball Field Builder/WSKey/cryptopp/inc/strciphr.h}}
}
{\ttfamily \#include \char`\"{}seckey.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}secblock.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}argnames.h\char`\"{}}\par
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{class_abstract_policy_holder}{AbstractPolicyHolder$<$ POLICY\_\-INTERFACE, BASE $>$}
\item 
class \hyperlink{class_concrete_policy_holder}{ConcretePolicyHolder$<$ POLICY, BASE, POLICY\_\-INTERFACE $>$}
\item 
struct \hyperlink{struct_additive_cipher_abstract_policy}{AdditiveCipherAbstractPolicy}
\item 
struct \hyperlink{struct_additive_cipher_concrete_policy}{AdditiveCipherConcretePolicy$<$ WT, W, X, BASE $>$}
\item 
class \hyperlink{class_additive_cipher_template}{AdditiveCipherTemplate$<$ BASE $>$}
\item 
class \hyperlink{class_c_f_b___cipher_abstract_policy}{CFB\_\-CipherAbstractPolicy}
\item 
struct \hyperlink{struct_c_f_b___cipher_concrete_policy}{CFB\_\-CipherConcretePolicy$<$ WT, W, BASE $>$}
\item 
struct \hyperlink{struct_c_f_b___cipher_concrete_policy_1_1_register_output}{CFB\_\-CipherConcretePolicy$<$ WT, W, BASE $>$::RegisterOutput$<$ B $>$}
\item 
class \hyperlink{class_c_f_b___cipher_template}{CFB\_\-CipherTemplate$<$ BASE $>$}
\item 
class \hyperlink{class_c_f_b___encryption_template}{CFB\_\-EncryptionTemplate$<$ BASE $>$}
\item 
class \hyperlink{class_c_f_b___decryption_template}{CFB\_\-DecryptionTemplate$<$ BASE $>$}
\item 
class \hyperlink{class_c_f_b___require_full_data_blocks}{CFB\_\-RequireFullDataBlocks$<$ BASE $>$}
\item 
class \hyperlink{class_symmetric_cipher_final}{SymmetricCipherFinal$<$ BASE, INFO $>$}
\begin{DoxyCompactList}\small\item\em \_\- \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Defines}
\begin{DoxyCompactItemize}
\item 
\hypertarget{strciphr_8h_a4a86c9df41d368440348bcc835a56706}{
\#define {\bfseries CRYPTOPP\_\-KEYSTREAM\_\-OUTPUT\_\-WORD}(x, b, i, a)~PutWord(bool(x \& OUTPUT\_\-ALIGNED), b, output+i$\ast$sizeof(WordType), (x \& INPUT\_\-NULL) ? a : a $^\wedge$ GetWord$<$WordType$>$(bool(x \& INPUT\_\-ALIGNED), b, input+i$\ast$sizeof(WordType)));}
\label{strciphr_8h_a4a86c9df41d368440348bcc835a56706}

\item 
\#define {\bfseries CRYPTOPP\_\-KEYSTREAM\_\-OUTPUT\_\-XMM}(x, i, a)
\item 
\#define {\bfseries CRYPTOPP\_\-KEYSTREAM\_\-OUTPUT\_\-SWITCH}(x, y)
\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum {\bfseries KeystreamOperationFlags} \{ {\bfseries OUTPUT\_\-ALIGNED} = 1, 
{\bfseries INPUT\_\-ALIGNED} = 2, 
{\bfseries INPUT\_\-NULL} =  4
 \}
\item 
enum {\bfseries KeystreamOperation} \{ \par
{\bfseries WRITE\_\-KEYSTREAM} =  INPUT\_\-NULL, 
{\bfseries WRITE\_\-KEYSTREAM\_\-ALIGNED} =  INPUT\_\-NULL $|$ OUTPUT\_\-ALIGNED, 
{\bfseries XOR\_\-KEYSTREAM} =  0, 
{\bfseries XOR\_\-KEYSTREAM\_\-INPUT\_\-ALIGNED} =  INPUT\_\-ALIGNED, 
\par
{\bfseries XOR\_\-KEYSTREAM\_\-OUTPUT\_\-ALIGNED} =  OUTPUT\_\-ALIGNED, 
{\bfseries XOR\_\-KEYSTREAM\_\-BOTH\_\-ALIGNED} =  OUTPUT\_\-ALIGNED $|$ INPUT\_\-ALIGNED
 \}
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hypertarget{strciphr_8h_ae99ecfe98367360e6c4e56e49bc8c0eb}{
NAMESPACE\_\-END CRYPTOPP\_\-DLL\_\-TEMPLATE\_\-CLASS {\bfseries AbstractPolicyHolder$<$ AdditiveCipherAbstractPolicy, SymmetricCipher $>$}}
\label{strciphr_8h_ae99ecfe98367360e6c4e56e49bc8c0eb}

\item 
\hypertarget{strciphr_8h_a21148213353503b82c3f5a940af23cb0}{
CRYPTOPP\_\-DLL\_\-TEMPLATE\_\-CLASS {\bfseries AdditiveCipherTemplate$<$ AbstractPolicyHolder$<$ AdditiveCipherAbstractPolicy, SymmetricCipher $>$ $>$}}
\label{strciphr_8h_a21148213353503b82c3f5a940af23cb0}

\item 
\hypertarget{strciphr_8h_a07de9a21f06522378d8e7a98a4285580}{
CRYPTOPP\_\-DLL\_\-TEMPLATE\_\-CLASS {\bfseries CFB\_\-CipherTemplate$<$ AbstractPolicyHolder$<$ CFB\_\-CipherAbstractPolicy, SymmetricCipher $>$ $>$}}
\label{strciphr_8h_a07de9a21f06522378d8e7a98a4285580}

\item 
\hypertarget{strciphr_8h_aac2a9cb586510efd584870d70231413b}{
CRYPTOPP\_\-DLL\_\-TEMPLATE\_\-CLASS {\bfseries CFB\_\-EncryptionTemplate$<$ AbstractPolicyHolder$<$ CFB\_\-CipherAbstractPolicy, SymmetricCipher $>$ $>$}}
\label{strciphr_8h_aac2a9cb586510efd584870d70231413b}

\item 
\hypertarget{strciphr_8h_aa198997c082089056e55c3627252bcce}{
CRYPTOPP\_\-DLL\_\-TEMPLATE\_\-CLASS {\bfseries CFB\_\-DecryptionTemplate$<$ AbstractPolicyHolder$<$ CFB\_\-CipherAbstractPolicy, SymmetricCipher $>$ $>$}}
\label{strciphr_8h_aa198997c082089056e55c3627252bcce}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
This file contains helper classes for implementing stream ciphers.

All this infrastructure may look very complex compared to what's in Crypto++ 4.x, but stream ciphers implementations now support a lot of new functionality, including better performance (minimizing copying), resetting of keys and IVs, and methods to query which features are supported by a cipher.

Here's an explanation of these classes. The word \char`\"{}policy\char`\"{} is used here to mean a class with a set of methods that must be implemented by individual stream cipher implementations. This is usually much simpler than the full stream cipher API, which is implemented by either \hyperlink{class_additive_cipher_template}{AdditiveCipherTemplate} or \hyperlink{class_c_f_b___cipher_template}{CFB\_\-CipherTemplate} using the policy. So for example, an implementation of \hyperlink{struct_s_e_a_l}{SEAL} only needs to implement the \hyperlink{struct_additive_cipher_abstract_policy}{AdditiveCipherAbstractPolicy} interface (since it's an additive cipher, i.e., it xors a keystream into the plaintext). See this line in \hyperlink{seal_8h_source}{seal.h}:

typedef \hyperlink{class_symmetric_cipher_final}{SymmetricCipherFinal}$<$\hyperlink{class_concrete_policy_holder}{ConcretePolicyHolder}$<$\hyperlink{class_s_e_a_l___policy}{SEAL\_\-Policy}$<$B$>$, \hyperlink{class_additive_cipher_template}{AdditiveCipherTemplate}$<$$>$ $>$ $>$ Encryption;

\hyperlink{class_additive_cipher_template}{AdditiveCipherTemplate} and \hyperlink{class_c_f_b___cipher_template}{CFB\_\-CipherTemplate} are designed so that they don't need to take a policy class as a template parameter (although this is allowed), so that their code is not duplicated for each new cipher. Instead they each get a reference to an abstract policy interface by calling AccessPolicy() on itself, so AccessPolicy() must be overriden to return the actual policy reference. This is done by the ConceretePolicyHolder class. Finally, \hyperlink{class_symmetric_cipher_final}{SymmetricCipherFinal} implements the constructors and other functions that must be implemented by the most derived class. 

\subsection{Define Documentation}
\hypertarget{strciphr_8h_a4f82514b5ab874259ac783ff9b96c4e5}{
\index{strciphr.h@{strciphr.h}!CRYPTOPP\_\-KEYSTREAM\_\-OUTPUT\_\-SWITCH@{CRYPTOPP\_\-KEYSTREAM\_\-OUTPUT\_\-SWITCH}}
\index{CRYPTOPP\_\-KEYSTREAM\_\-OUTPUT\_\-SWITCH@{CRYPTOPP\_\-KEYSTREAM\_\-OUTPUT\_\-SWITCH}!strciphr.h@{strciphr.h}}
\subsubsection[{CRYPTOPP\_\-KEYSTREAM\_\-OUTPUT\_\-SWITCH}]{\setlength{\rightskip}{0pt plus 5cm}\#define CRYPTOPP\_\-KEYSTREAM\_\-OUTPUT\_\-SWITCH(x, \/  y)}}
\label{strciphr_8h_a4f82514b5ab874259ac783ff9b96c4e5}
{\bfseries Value:}
\begin{DoxyCode}
switch (operation)                                                      \
        {                                                                                       \
      
                case WRITE_KEYSTREAM:                                   \
                        x(WRITE_KEYSTREAM)                                      \
      
                        break;                                                          \
      
                case XOR_KEYSTREAM:                                             \
      
                        x(XOR_KEYSTREAM)                                        \
      
                        input += y;                                                     \
      
                        break;                                                          \
      
                case XOR_KEYSTREAM_INPUT_ALIGNED:               \
                        x(XOR_KEYSTREAM_INPUT_ALIGNED)          \
                        input += y;                                                     \
      
                        break;                                                          \
      
                case XOR_KEYSTREAM_OUTPUT_ALIGNED:              \
                        x(XOR_KEYSTREAM_OUTPUT_ALIGNED)         \
                        input += y;                                                     \
      
                        break;                                                          \
      
                case WRITE_KEYSTREAM_ALIGNED:                   \
                        x(WRITE_KEYSTREAM_ALIGNED)                      \
                        break;                                                          \
      
                case XOR_KEYSTREAM_BOTH_ALIGNED:                \
                        x(XOR_KEYSTREAM_BOTH_ALIGNED)           \
                        input += y;                                                     \
      
                        break;                                                          \
      
        }                                                                                       \
      
        output += y;
\end{DoxyCode}
\hypertarget{strciphr_8h_a3a30bda92ececdc86efced76e074eeaa}{
\index{strciphr.h@{strciphr.h}!CRYPTOPP\_\-KEYSTREAM\_\-OUTPUT\_\-XMM@{CRYPTOPP\_\-KEYSTREAM\_\-OUTPUT\_\-XMM}}
\index{CRYPTOPP\_\-KEYSTREAM\_\-OUTPUT\_\-XMM@{CRYPTOPP\_\-KEYSTREAM\_\-OUTPUT\_\-XMM}!strciphr.h@{strciphr.h}}
\subsubsection[{CRYPTOPP\_\-KEYSTREAM\_\-OUTPUT\_\-XMM}]{\setlength{\rightskip}{0pt plus 5cm}\#define CRYPTOPP\_\-KEYSTREAM\_\-OUTPUT\_\-XMM(x, \/  i, \/  a)}}
\label{strciphr_8h_a3a30bda92ececdc86efced76e074eeaa}
{\bfseries Value:}
\begin{DoxyCode}
{\
        __m128i t = (x & INPUT_NULL) ? a : _mm_xor_si128(a, (x & INPUT_ALIGNED) ?
       _mm_load_si128((__m128i *)input+i) : _mm_loadu_si128((__m128i *)input+i));\
        if (x & OUTPUT_ALIGNED) _mm_store_si128((__m128i *)output+i, t);\
        else _mm_storeu_si128((__m128i *)output+i, t);}
\end{DoxyCode}
